<app-loading *ngIf="loading"></app-loading>
<app-nav *ngIf="!playState.isPlaying"></app-nav>

<!-- Close button for play mode -->
<button
  *ngIf="playState.isPlaying"
  (click)="stopPlaying()"
  class="fixed top-4 right-4 z-50 bg-black/80 hover:bg-black/90 text-white p-3 rounded-full border-2 border-white/20 transition-all duration-200 hover:scale-110"
  aria-label="Exit play mode"
>
  <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
  </svg>
</button>

<!-- Single page layout now delegates each section to its own standalone component -->
<section id="home" class="min-h-screen">
  <app-hero [showOnlyBackground]="playState.isPlaying"></app-hero>
  <!-- Keep play button in DOM so help menu can persist after activation -->
  <app-play-button></app-play-button>
  <app-home *ngIf="!playState.isPlaying"></app-home>
</section>

<section id="experience" class="min-h-screen" *ngIf="!playState.isPlaying">
  <app-experience></app-experience>
</section>

<section id="projects" class="min-h-screen" *ngIf="!playState.isPlaying">
  <app-projects></app-projects>
</section>

<section id="about" class="min-h-screen" *ngIf="!playState.isPlaying">
  <app-about></app-about>
</section>

<section id="contact" class="min-h-screen" *ngIf="!playState.isPlaying">
  <app-contact></app-contact>
</section>
