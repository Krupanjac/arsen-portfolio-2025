<div class="grid min-h-screen grid-cols-1 md:grid-cols-[20%_1fr]">
  <!-- Mobile label under nav -->
  <div class="md:hidden pt-14 px-4 pb-2 border-b border-divider">
  <p class="text-base font-semibold text-secondary"><span appTerminalTyping data-i18n-key="WORK.LABEL">{{ 'WORK.LABEL' | translate }}</span></p>
  </div>
  <!-- Left rail with vertical line -->
  <app-rail>
  <span appTerminalTyping data-i18n-key="WORK.LABEL">{{ 'WORK.LABEL' | translate }}</span>
  </app-rail>
  <!-- Work grid -->
  <div class="flex justify-center items-start py-10 md:-ml-[20%] pl-4">
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-[92%] sm:w-[80%] md:w-[70%] lg:w-[60%] mx-auto">
      <div *ngFor="let post of blogPosts" class="work-card border border-divider rounded-lg p-4 hover:shadow-lg transition-shadow cursor-pointer" (click)="openModal(post)">
        <div *ngIf="post.images && post.images.length > 0" class="mb-3">
          <img [src]="getPreviewImageUrl(post.images[0])" [alt]="post.title" class="w-full h-48 object-cover rounded-sm" />
        </div>
        <h3 class="text-lg font-semibold mb-2">{{ post.title }}</h3>
        <p class="text-secondary text-sm mb-3" *ngIf="post.description">{{ post.description }}</p>
        <div class="flex flex-wrap gap-1 mb-3" *ngIf="post.tags && post.tags.length > 0">
          <span *ngFor="let tag of post.tags" class="px-2 py-1 bg-accent/10 text-accent text-xs rounded">
            {{ tag }}
          </span>
        </div>
        <div class="text-xs text-secondary" *ngIf="post.created_at">
          {{ post.created_at | date:'mediumDate' }}
        </div>
      </div>
      
      <!-- Show message if no work posts -->
      <div *ngIf="blogPosts.length === 0" class="col-span-full text-center py-10">
        <p class="text-secondary">No work posts available yet.</p>
      </div>
    </div>
  </div>
</div>

<!-- Blog Modal -->
<app-blog-modal
  [post]="selectedPost"
  [visible]="modalVisible"
  (closeModal)="closeModal()">
</app-blog-modal>
