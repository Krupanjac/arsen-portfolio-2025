<div class="grid min-h-screen grid-cols-1 md:grid-cols-[20%_1fr] items-stretch">
  <!-- Mobile label under nav -->
  <div class="md:hidden pt-14 px-4 pb-2 border-b border-divider">
    <p class="text-base font-semibold text-secondary">
      <span appTerminalTyping data-i18n-key="EXPERIENCE.LABEL">{{ 'EXPERIENCE.LABEL' | translate }}</span>
    </p>
  </div>

  <!-- Left rail -->
  <app-rail class="self-stretch">
    <span appTerminalTyping data-i18n-key="EXPERIENCE.LABEL">{{ 'EXPERIENCE.LABEL' | translate }}</span>
  </app-rail>

  <!-- Content area mimicking previous width/centering -->
  <div class="flex justify-center items-start py-10 md:-ml-[20%] pl-4">
    <div class="w-[92%] sm:w-[80%] md:w-[70%] lg:w-[60%] mx-auto">
      <div class="relative border-l border-divider/40 ml-4 md:ml-8">
        <div *ngFor="let post of workPosts; let i = index" class="relative pl-8 pb-10 last:pb-0 group">
          <!-- Dot -->
          <div class="absolute -left-3 top-1.5 w-5 h-5 rounded-full bg-gradient-to-br from-accent/90 to-accent shadow-lg shadow-accent/30 flex items-center justify-center ring-2 ring-surface">
            <div class="w-2.5 h-2.5 rounded-full bg-white/90"></div>
          </div>
          <!-- Connector embellishment -->
            <div class="absolute left-[-1px] top-6 w-px h-full bg-gradient-to-b from-accent/40 via-divider/30 to-transparent pointer-events-none opacity-0 group-hover:opacity-100 transition-opacity"></div>
          <!-- Card -->
          <div class="bg-gradient-to-tr from-surface/70 via-surface/50 to-surface-alt/40 backdrop-blur-sm border border-divider/50 rounded-xl p-4 md:p-5 shadow-sm hover:shadow-accent/20 transition-all duration-300">
            <div class="flex flex-col md:flex-row md:items-start md:justify-between gap-3">
              <h3 class="text-base md:text-lg font-semibold text-primary tracking-tight">{{ post.title || 'Untitled role' }}</h3>
              <div class="text-xs md:text-[13px] font-medium text-accent/90 bg-accent/10 px-2 py-1 rounded-full self-start md:self-center">
                <!-- created_at is epoch seconds; convert to ms for display -->
                <span *ngIf="post.created_at; else noDate">{{ (post.created_at * 1000) | date:'MMM yyyy' }}</span>
                <ng-template #noDate>â€”</ng-template>
              </div>
            </div>
            <p *ngIf="post.description" class="text-secondary text-sm leading-relaxed mt-2 whitespace-pre-line">{{ post.description }}</p>
            <div *ngIf="post.tags?.length" class="flex flex-wrap gap-2 mt-3">
              <span *ngFor="let t of post.tags" class="text-[10px] tracking-wide uppercase bg-accent/80 text-white px-2 py-0.5 rounded-full">{{ t }}</span>
            </div>
          </div>
        </div>

        <!-- Empty state -->
        <div *ngIf="workPosts.length === 0" class="pl-8 py-8">
          <p class="text-secondary text-sm italic">No experience experience entries yet.</p>
        </div>
      </div>
    </div>
  </div>
</div>
